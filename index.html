<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>$PUMPDIT - Weaponized Influence</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <script src="https://unpkg.com/lucide@latest"></script>
  <style>
    body {
      background-color: #0d0b14;
      font-family: 'Press Start 2P', cursive;
      background-image: radial-gradient(circle at center, #1a1823 0%, #0d0b14 100%);
      color: white;
      overflow-x: hidden;
    }
    html { scroll-behavior: smooth; }
    h1, h2, h3, p, li, button, a, span, label, select, input, option { font-family: 'Press Start 2P', cursive; }
    .glitch:hover { animation: glitch 1s infinite; }
    @keyframes glitch {
      0% { text-shadow: 2px 0 rgb(90, 0, 146), -2px 0 blue; }
      50% { text-shadow: -2px -2px lime, 2px 2px magenta; }
      100% { text-shadow: 0 0 white; }
    }
    .modal {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.8); display: none;
      align-items: center; justify-content: center; z-index: 1000;
    }
    .modal-content {
      background: #1a1823; padding: 2rem;
      border: 1px solid #ff4500; border-radius: 1rem; text-align: center;
      max-width: 90%;
      width: 500px;
    }
    .btn-glow {
      box-shadow: 0 0 10px #ff4500, 0 0 30px #ff8717;
      transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
    }
    .btn-glow:hover { transform: scale(1.05); }
    .btn-glow:active {
        transform: scale(0.98);
        box-shadow: 0 0 5px #ff4500, 0 0 15px #ff8717;
    }
    .section-divider {
      height: 2px;
      background: linear-gradient(to right, #2C2A37, #ff4500, #2C2A37);
      margin: 6rem auto;
      width: 80%;
    }
    .section-block {
      padding-top: 4rem;
      padding-bottom: 4rem;
    }
    .gradient-text {
        background: -webkit-linear-gradient(#ff8717, #ff4500);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }
    .copy-btn {
        background-color: #2C2A37;
        padding: 4px 8px;
        font-size: 10px;
        border-radius: 4px;
        margin-left: 8px;
        cursor: pointer;
        border: 1px solid #ff4500;
    }
    .section-hidden {
        opacity: 0;
        transform: translateY(2rem);
        transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }
    .section-visible {
        opacity: 1;
        transform: translateY(0);
    }
  </style>
</head>
<body class="antialiased">

  <header class="w-full bg-[#1a1823] text-orange-400 text-xs text-center py-2 border-b border-[#2C2A37] flex justify-between items-center px-4 sticky top-0 z-50">
    <div class="flex items-center gap-2">
        <img src="https://updatedcardscript.standard.us-east-1.oortstorages.com/ChatGPT%20Image%20Aug%207%2C%202025%2C%2003_19_27%20PM.png" alt="Pumpdit Logo" class="h-6 w-6 rounded-full">
        <span>Live $PUMPDIT: <span id="pumpdit-price">$0.0000123</span></span>
    </div>
    <div id="wallet-status">
        <button onclick="openWalletModal()" id="connect-wallet-btn-header" class="bg-orange-600/50 text-white text-[10px] py-1 px-3 rounded-md hover:bg-orange-600/80">Connect Wallet</button>
        <span id="wallet-address" class="hidden text-green-400"></span>
    </div>
  </header>

  <div class="px-4 pt-6 max-w-xl mx-auto">
    <canvas id="priceChart" height="120"></canvas>
  </div>

  <section class="text-center px-6 section-block">
     <img src="https://updatedcardscript.standard.us-east-1.oortstorages.com/ChatGPT%20Image%20Aug%207%2C%202025%2C%2003_19_27%20PM.png" alt="Pumpdit Logo" class="h-24 w-24 mx-auto mb-6 rounded-full shadow-lg">
     <h1 class="text-3xl md:text-4xl mb-4 font-bold gradient-text glitch">Weaponized Influence.</h1>
     <p class="mt-4 text-lg text-gray-300 max-w-2xl mx-auto">The memecoin that turns Reddit clout into currency. Buy karma. Push narratives. Dominate subcultures.</p>
    <div class="mt-8 flex flex-col sm:flex-row justify-center items-center gap-4">
      <button onclick="document.getElementById('buy-section').scrollIntoView();" class="w-full sm:w-auto bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-8 rounded-full btn-glow text-base flex items-center justify-center gap-2">
        <i data-lucide="coins" class="w-5 h-5"></i>
        Buy $PUMPDIT
      </button>
      <button onclick="document.getElementById('order-section').scrollIntoView();" class="w-full sm:w-auto bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-8 rounded-full text-base flex items-center justify-center gap-2">
        <i data-lucide="bomb" class="w-5 h-5"></i>
        Deploy Karma Bomb
      </button>
    </div>
  </section>
  
  <div class="section-divider"></div>

  <section id="buy-section" class="text-center px-6 section-block section-hidden">
    <h2 class="text-3xl mb-8 font-bold gradient-text glitch flex items-center justify-center gap-3"><i data-lucide="archive" class="w-8 h-8"></i> Get Your Ammo</h2>
    <div class="max-w-3xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-6 text-left text-sm">
        <div class="bg-[#13111B] p-4 rounded-lg border border-[#2C2A37]">
            <p class="text-orange-400 mb-2 text-lg">1. Get a Wallet</p>
            <p class="text-gray-300">Download Phantom or your wallet of choice from the app store or extension store.</p>
        </div>
        <div class="bg-[#13111B] p-4 rounded-lg border border-[#2C2A37]">
            <p class="text-orange-400 mb-2 text-lg">2. Get SOL</p>
            <p class="text-gray-300">Buy Solana (SOL) on an exchange like Coinbase and send it to your wallet.</p>
        </div>
        <div class="bg-[#13111B] p-4 rounded-lg border border-[#2C2A37]">
            <p class="text-orange-400 mb-2 text-lg">3. Swap for $PUMPDIT</p>
            <p class="text-gray-300">Go to <a href="https://raydium.io/swap/" target="_blank" class="text-orange-400 underline hover:text-white">Raydium</a> or <a href="https://jup.ag/swap/" target="_blank" class="text-orange-400 underline hover:text-white">Jupiter</a> and paste the token address to swap your SOL.</p>
        </div>
    </div>
    <div class="mt-8 bg-[#13111B] p-4 rounded-lg border border-[#2C2A37] max-w-3xl mx-auto">
        <p class="text-gray-400 text-xs mb-2">Contract Address:</p>
        <div class="flex items-center justify-center">
            <input id="contractAddress" type="text" readonly value="PUMPDiT8VBdK1fK1y2e3b4c5d6e7f8g9hAjBkClDmEn" class="text-green-400 text-xs md:text-sm bg-transparent text-center w-auto">
            <button onclick="copyContract()" id="copyBtn" class="copy-btn">COPY</button>
        </div>
    </div>
  </section>
  
  <div class="section-divider"></div>

  <section class="text-center px-6 section-block section-hidden">
    <h2 class="text-3xl mb-8 font-bold gradient-text glitch flex items-center justify-center gap-3">
        <i data-lucide="rocket" class="w-8 h-8"></i>
        Launch Sequence
    </h2>
    <div class="max-w-3xl mx-auto bg-[#13111B] border border-[#2C2A37] p-6 rounded-xl text-left space-y-6">
      
        <div class="flex items-start gap-4">
            <p class="text-orange-400 text-lg">1.</p>
            <div>
                <h3 class="text-lg text-orange-400">TARGET ACQUIRED</h3>
                <p class="text-sm text-gray-400 mt-1">You've landed on the launchpad. The Reddit algorithm is in your sights.</p>
            </div>
        </div>

        <div class="flex items-start gap-4">
            <p class="text-orange-400 text-lg">2.</p>
            <div>
                <h3 class="text-lg text-orange-400">AUTHENTICATE ACCESS</h3>
                <p class="text-sm text-gray-400 mt-1">Connect your wallet to prove you're part of the operation. No spies allowed.</p>
            </div>
        </div>

        <div class="flex items-start gap-4">
            <p class="text-orange-400 text-lg">3.</p>
            <div>
                <h3 class="text-lg text-orange-400">ARM THE PAYLOAD</h3>
                <p class="text-sm text-gray-400 mt-1">Choose your weapon from the arsenal—from a single spark to a full-scale narrative bomb.</p>
            </div>
        </div>

        <div class="flex items-start gap-4">
            <p class="text-orange-400 text-lg">4.</p>
            <div>
                <h3 class="text-lg text-orange-400">SET COORDINATES</h3>
                <p class="text-sm text-gray-400 mt-1">Enter your target link and set the power level. A few $PUMPDIT is all it takes to make an impact.</p>
            </div>
        </div>

        <div class="flex items-start gap-4">
            <p class="text-orange-400 text-lg">5.</p>
            <div>
                <h3 class="text-lg text-orange-400">EXECUTE MISSION</h3>
                <p class="text-sm text-gray-400 mt-1">Deploy your payload and watch the karma rain down. Mission accomplished.</p>
            </div>
        </div>

    </div>
  </section>

  <div class="section-divider"></div>

  <section class="text-center px-6 section-block section-hidden">
    <h2 class="text-3xl mb-8 font-bold gradient-text glitch flex items-center justify-center gap-3">
      <i data-lucide="book-marked" class="w-8 h-8"></i>
      The Doctrine
    </h2>
    <div class="max-w-3xl mx-auto bg-[#13111B] border border-[#2C2A37] p-6 rounded-xl text-left space-y-6">

        <div class="flex items-start gap-4">
            <i data-lucide="activity" class="w-8 h-8 text-orange-400 flex-shrink-0 mt-1"></i>
            <div>
                <h3 class="text-lg text-orange-400">Impact > Metrics</h3>
                <p class="text-sm text-gray-400 mt-1">We don't care about your balance sheet. We care about our footprint on the digital battlefield.</p>
            </div>
        </div>

        <div class="flex items-start gap-4">
            <i data-lucide="gem" class="w-8 h-8 text-green-400 flex-shrink-0 mt-1"></i>
            <div>
                <h3 class="text-lg text-green-400">Influence is the Final Asset</h3>
                <p class="text-sm text-gray-400 mt-1">Liquidity pools can be drained. A controlled narrative is forever.</p>
            </div>
        </div>

        <div class="flex items-start gap-4">
            <i data-lucide="file-terminal" class="w-8 h-8 text-cyan-400 flex-shrink-0 mt-1"></i>
            <div>
                <h3 class="text-lg text-cyan-400">Directives > Whitepapers</h3>
                <p class="text-sm text-gray-400 mt-1">Our roadmap isn't a 90-page PDF. It's a series of tactical targets delivered to the War Council.</p>
            </div>
        </div>

        <div class="flex items-start gap-4">
            <i data-lucide="megaphone" class="w-8 h-8 text-purple-400 flex-shrink-0 mt-1"></i>
            <div>
                <h3 class="text-lg text-purple-400">Propaganda Pays</h3>
                <p class="text-sm text-gray-400 mt-1">The best memes and shitposts that support the cause will be rewarded from the treasury. This isn't just a game; it's a career.</p>
            </div>
        </div>

        <div class="flex items-start gap-4">
            <i data-lucide="shield-off" class="w-8 h-8 text-red-500 flex-shrink-0 mt-1"></i>
            <div>
                <h3 class="text-lg text-red-500">No Kings, No Founders</h3>
                <p class="text-sm text-gray-400 mt-1">This protocol was deployed anonymously from a secure bunker. There are no dev wallets, no team tokens—only the mission.</p>
            </div>
        </div>

    </div>
  </section>
  
  <div class="section-divider"></div>

  <section class="text-center px-6 section-block section-hidden">
    <h2 class="text-3xl mb-8 font-bold gradient-text glitch flex items-center justify-center gap-3">
      <i data-lucide="archive" class="w-8 h-8"></i>
      The Arsenal
    </h2>
    <div class="max-w-3xl mx-auto bg-[#13111B] border border-[#2C2A37] p-6 rounded-xl text-left space-y-6">

        <div class="flex items-start gap-4">
            <i data-lucide="package-plus" class="w-8 h-8 text-orange-400 flex-shrink-0 mt-1"></i>
            <div>
                <h3 class="text-lg text-orange-400">Supply Drop: 1B $PUMPDIT</h3>
                <p class="text-sm text-gray-400 mt-1">A fixed billion rounds. No more, no less. Enough ammo for a hostile takeover of the front page.</p>
            </div>
        </div>

        <div class="flex items-start gap-4">
            <i data-lucide="percent-circle" class="w-8 h-8 text-green-400 flex-shrink-0 mt-1"></i>
            <div>
                <h3 class="text-lg text-green-400">Tribute: 0% Buy / 0% Sell</h3>
                <p class="text-sm text-gray-400 mt-1">This is a black market, not the stock market. Your transactions are yours. We don't take a cut.</p>
            </div>
        </div>

        <div class="flex items-start gap-4">
            <i data-lucide="flame" class="w-8 h-8 text-red-500 flex-shrink-0 mt-1"></i>
            <div>
                <h3 class="text-lg text-red-500">Scorched Earth: LP Tokens Burned</h3>
                <p class="text-sm text-gray-400 mt-1">The escape route has been destroyed. The devs can't pull the rug because there is no rug. Only concrete.</p>
            </div>
        </div>

        <div class="flex items-start gap-4">
            <i data-lucide="key-round" class="w-8 h-8 text-purple-400 flex-shrink-0 mt-1"></i>
            <div>
                <h3 class="text-lg text-purple-400">Utility: Access Granted</h3>
                <p class="text-sm text-gray-400 mt-1">Holding $PUMPDIT is your keycard to the weapons locker. Deploy upvotes, comments, and narrative nukes directly from our terminal.</p>
            </div>
        </div>

        <div class="flex items-start gap-4">
            <i data-lucide="swords" class="w-8 h-8 text-cyan-400 flex-shrink-0 mt-1"></i>
            <div>
                <h3 class="text-lg text-cyan-400">Governance: The War Council</h3>
                <p class="text-sm text-gray-400 mt-1">Major holders get a seat at the table to vote on new targets, features, and strategic treasury deployments. This is your cartel now.</p>
            </div>
        </div>

    </div>
  </section>

  <div class="section-divider"></div>

  <section id="order-section" class="text-center px-6 section-block section-hidden">
    <h2 class="text-3xl mb-2 font-bold gradient-text glitch flex items-center justify-center gap-3"><i data-lucide="wrench" class="w-8 h-8"></i> Pick Your Poison</h2>
    <p class="text-gray-400 mb-8">Want fake fans or real fire?</p>
    <div class="max-w-xl mx-auto bg-[#1a1823] border border-[#2C2A37] p-6 rounded-xl">
      
      <label class="block text-sm text-orange-400 mb-2 text-left">SERVICE:</label>
      <select id="orderService" class="w-full p-3 mb-4 rounded bg-[#13111B] text-white border border-gray-600 text-sm">
        <option value="2.50">100 Upvotes (The Spark)</option>
        <option value="8.50">500 Upvotes (Trending Push)</option>
        <option value="12.00">100 AI Comments (Narrative Control)</option>
        <option value="22.00">1000 Subscribers (Cult Building)</option>
        <option value="35.00">Custom Hype Thread (The Nuclear Option)</option>
      </select>
      
      <label class="block text-sm text-orange-400 mb-2 text-left">LINK:</label>
      <input type="url" id="postLink" class="w-full p-3 mb-4 rounded bg-[#13111B] text-white border border-gray-600 text-sm" placeholder="https://reddit.com/r/subreddit/your_post" required />

      <label class="block text-sm text-orange-400 mb-2 text-left">QUANTITY:</label>
      <input type="number" id="orderQty" class="w-full p-3 mb-4 rounded bg-[#13111B] text-white border border-gray-600 text-sm" value="1" min="1" />

      <div class="text-sm text-gray-300 mb-6">
        COST: <span id="orderTotalUSD" class="text-green-400 font-bold"></span> USD (<span id="orderTotal" class="text-green-400 font-bold">Loading...</span> $PUMPDIT)
        <p class="text-xs mt-2 text-gray-500">"Use $PUMPDIT to hijack the hot tab."</p>
      </div>

      <button onclick="placeOrder()" class="bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 px-8 rounded-full btn-glow w-full flex items-center justify-center gap-2">
        Place Order <i data-lucide="rocket" class="w-5 h-5"></i>
      </button>
    </div>
  </section>

  <section class="text-center px-6 section-block section-hidden">
      <h2 class="text-3xl mb-8 font-bold gradient-text flex items-center justify-center gap-3"><i data-lucide="satellite-dish" class="w-8 h-8"></i> Live Ops Tracker</h2>
      <div id="ops-container" class="max-w-3xl mx-auto space-y-3 text-xs text-left">
        </div>
  </section>

  <div class="section-divider"></div>
  
  <section class="text-center px-6 section-block section-hidden">
    <h2 class="text-3xl mb-8 font-bold gradient-text glitch flex items-center justify-center gap-3">
      <i data-lucide="users" class="w-8 h-8"></i>
      Join The Uprising
    </h2>
    <p class="text-gray-400 mb-8 max-w-xl mx-auto">Influence is a team sport. Find us on the front lines.</p>
    <div class="flex justify-center items-center gap-6">
      <a href="#" target="_blank" class="text-orange-400 hover:text-white transition-colors" aria-label="X/Twitter">
        <svg class="w-10 h-10" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>X</title><path fill="currentColor" d="M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932L18.901 1.153zm-1.61 19.713h2.436L4.178 2.547H1.641l15.65 18.319z"/></svg>
      </a>
      <a href="#" target="_blank" class="text-orange-400 hover:text-white transition-colors" aria-label="Telegram">
          <svg class="w-10 h-10" fill="currentColor" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg"><title>Telegram</title><path d="M11.944,0 C5.356,0 0,5.356 0,11.944 C0,18.531 5.356,23.888 11.944,23.888 C18.531,23.888 23.888,18.531 23.888,11.944 C23.888,5.356 18.531,0 11.944,0 Z M18.118,8.113 C17.843,9.519 16.52,15.803 15.938,18.55 C15.66,19.928 14.82,20.285 14.045,19.838 C12.83,19.125 11.884,18.393 10.97,17.703 C9.96,16.942 9.25,16.485 9.065,16.149 C8.879,15.813 8.221,15.356 8.221,14.638 C8.221,13.831 8.793,13.475 9.365,12.903 C9.938,12.331 10.643,11.668 11.438,10.925 C12.212,10.203 12.988,9.48 13.118,9.25 C13.248,9.02 13.356,8.663 13.16,8.445 C12.964,8.228 12.638,8.356 12.43,8.475 C12.221,8.594 10.43,9.663 7.938,11.243 C7.545,11.5 7.153,11.625 6.76,11.625 C6.273,11.625 5.5,11.453 4.938,11.28 C4.26,11.063 3.653,10.913 3.8,10.138 C3.893,9.663 4.43,9.228 5.43,8.835 C8.303,7.703 10.545,6.77 12.118,6.163 C15.653,4.83 17.03,4.438 18.118,8.113 Z"/></svg>
      </a>
    </div>
  </section>

  <div id="orderModal" class="modal">
    <div class="modal-content">
      <h2 class="text-xl text-orange-400 mb-4 flex items-center justify-center gap-2"><i data-lucide="receipt" class="w-6 h-6"></i>Your Order Is Live</h2>
      <p class="text-white text-sm mb-4">Let the karma rain begin.</p>
      <div id="order-summary" class="text-left text-sm bg-[#0d0b14] p-4 rounded-lg mb-4"></div>
      <p id="tx-hash" class="text-green-400 text-xs break-all"></p>
      <button onclick="closeOrderModal()" class="mt-6 px-4 py-2 bg-orange-500 text-white font-bold rounded-full">Roger That</button>
    </div>
  </div>

  <div id="walletModal" class="modal">
    <div class="modal-content" id="wallet-modal-content">
      </div>
  </div>

  <div id="easterEgg" style="display:none; position:fixed; bottom:20px; right:20px; font-size:14px; background:#13111B; padding:8px 12px; border:1px solid #ff4500; border-radius:6px; z-index:1000;">
    <span class="flex items-center gap-2"><i data-lucide="egg" class="w-4 h-4"></i>Bonus: +10 Upvotes!</span>
  </div>

  <footer class="text-center py-10 text-gray-500 text-xs border-t border-[#2C2A37] mt-8">
    <p>© 2025 $PUMPDIT | A protocol for weaponized attention. On-chain karma as a service.</p>
    <p class="mt-2 flex items-center justify-center gap-2">Just pump. <i data-lucide="rocket" class="w-4 h-4"></i></p>
  </footer>

  <script>
    // --- Global variables ---
    let priceChart;
    let lockedPrice = 0.0000123;
    let priceTimestamp = Date.now();
    let walletConnected = false;
    let walletAddress = '';

    // --- DOM element variables ---
    let priceDisplay, chartCtx, walletModal, walletModalContent, orderModal, opsContainer;
    
    // --- ICON LOADER ---
    function loadIcons() {
      lucide.createIcons();
    }

    // --- LIVE OPS TRACKER ---
    const sampleServices = [
        { name: '500 Upvotes', class: 'text-orange-400', value: '+500' },
        { name: '100 AI Comments', class: 'text-orange-400', value: '+100' },
        { name: 'Cult Building', class: 'text-orange-400', value: '+1000' },
        { name: 'The Spark', class: 'text-orange-400', value: '+100' },
        { name: 'Trending Push', class: 'text-orange-400', value: '+500' }
    ];
    const sampleSubreddits = ['r/CryptoMoonShots', 'r/wallstreetbets', 'r/solana', 'r/memes', 'r/satoshistreetbets'];

    function createRandomOp() {
        if (!opsContainer) return;

        const randomAddress = `0x...${[...Array(4)].map(() => Math.floor(Math.random() * 16).toString(16)).join('')}`;
        const randomService = sampleServices[Math.floor(Math.random() * sampleServices.length)];
        const randomSubreddit = sampleSubreddits[Math.floor(Math.random() * sampleSubreddits.length)];

        const opElement = document.createElement('div');
        opElement.className = 'bg-[#13111B] border border-[#2C2A37] p-3 rounded-lg flex justify-between items-center transition-all duration-500 opacity-0 -translate-y-4';
        opElement.innerHTML = `
            <span>${randomAddress} deployed <span class="${randomService.class}">${randomService.name}</span> on ${randomSubreddit}</span>
            <span class="text-green-400">${randomService.value}</span>
        `;

        opsContainer.prepend(opElement);
        setTimeout(() => opElement.classList.remove('opacity-0', '-translate-y-4'), 100);

        if (opsContainer.children.length > 7) {
            opsContainer.lastChild.classList.add('opacity-0');
            setTimeout(() => opsContainer.removeChild(opsContainer.lastChild), 500);
        }
    }

    // --- ON-SCROLL ANIMATION ---
    const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
            if (entry.isIntersecting) {
                entry.target.classList.add('section-visible');
            }
        });
    });

    // --- Functions for onclick handlers (must be global) ---
    function updateOrderTotal() {
      if (!document.getElementById('orderService')) return;
      const serviceSelect = document.getElementById('orderService');
      const serviceCostUSD = parseFloat(serviceSelect.value);
      const qty = parseInt(document.getElementById('orderQty').value) || 1;
      const totalUSD = serviceCostUSD * qty;
      const totalPumpdit = Math.ceil(totalUSD / lockedPrice).toLocaleString();
      
      document.getElementById('orderTotalUSD').textContent = `$${totalUSD.toFixed(2)}`;
      document.getElementById('orderTotal').textContent = totalPumpdit;
    }

    function updateLivePrice() {
      const now = Date.now();
      if (now - priceTimestamp >= 1500) {
        lockedPrice = lockedPrice * (1 + (Math.random() - 0.5) * 0.1); 
        if (lockedPrice < 0.000001) {
            lockedPrice = 0.000001;
        }
        priceTimestamp = now;
      }
      if (priceDisplay) {
        priceDisplay.textContent = `$${lockedPrice.toFixed(8)}`;
      }
      if (priceChart) {
          const data = priceChart.data.datasets[0].data;
          data.push(lockedPrice);
          if (data.length > 40) data.shift();
          priceChart.update('quiet');
      }
      updateOrderTotal();
    }

    function placeOrder() {
        if (!walletConnected) {
            openWalletModal();
            return;
        }
        const postLinkInput = document.getElementById('postLink');
        const postLink = postLinkInput.value;

        if (!postLink) {
            alert('Please provide a target link for your order.');
            postLinkInput.focus();
            return;
        }

        const serviceSelect = document.getElementById('orderService');
        const serviceText = serviceSelect.options[serviceSelect.selectedIndex].text;
        const qty = document.getElementById('orderQty').value;
        const totalPumpdit = document.getElementById('orderTotal').textContent;

        document.getElementById('order-summary').innerHTML = `
            <p class="mb-2"><strong>Service:</strong> <span class="text-orange-400">${serviceText}</span></p>
            <p class="mb-2"><strong>Target Link:</strong> <span class="text-orange-400 break-all text-xs">${postLink}</span></p>
            <p class="mb-2"><strong>Quantity:</strong> <span class="text-orange-400">${qty}</span></p>
            <p><strong>Total Cost:</strong> <span class="text-green-400">${totalPumpdit} $PUMPDIT</span></p>
        `;
        document.getElementById('tx-hash').textContent = `Fake TxHash: 0xPUMPED${Math.floor(Math.random() * 1e9).toString(16)}`;
        orderModal.style.display = 'flex';
        loadIcons();
    }

    function closeOrderModal() {
      if(orderModal) orderModal.style.display = 'none';
    }

    function openWalletModal() {
        let content = '';
        if (walletConnected) {
            content = `<h2 class="text-xl text-green-400 mb-4 flex items-center justify-center gap-2"><i data-lucide="check-circle" class="w-6 h-6"></i>Wallet Connected</h2><p class="text-white text-sm mb-2">Your address:</p><p class="text-green-400 text-xs break-all">${walletAddress}</p><button onclick="disconnectWallet()" class="mt-6 px-4 py-2 bg-red-500 text-white font-bold rounded-full">Disconnect</button>`;
        } else {
            content = `<h2 class="text-xl text-orange-400 mb-4 flex items-center justify-center gap-2"><i data-lucide="lock" class="w-6 h-6"></i>Connect Wallet</h2><p class="text-white text-sm mb-6">Link up so we know you’re not a bot (yet).</p><button onclick="connectWallet()" class="w-full mb-4 px-4 py-3 bg-orange-500 text-white font-bold rounded-full btn-glow">Connect Now</button><button onclick="closeWalletModal()" class="w-full px-4 py-2 bg-gray-600 text-white font-bold rounded-full">Cancel</button>`;
        }
        if(walletModalContent) walletModalContent.innerHTML = content;
        if(walletModal) walletModal.style.display = 'flex';
        loadIcons();
    }

    function closeWalletModal() {
      if(walletModal) walletModal.style.display = 'none';
    }

    function connectWallet() {
        walletConnected = true;
        walletAddress = '0x' + [...Array(40)].map(() => Math.floor(Math.random() * 16).toString(16)).join('');
        const shortAddress = `${walletAddress.substring(0, 6)}...${walletAddress.substring(walletAddress.length - 4)}`;
        document.getElementById('wallet-address').textContent = shortAddress;
        document.getElementById('wallet-address').classList.remove('hidden');
        document.getElementById('connect-wallet-btn-header').classList.add('hidden');
        closeWalletModal();
    }

    function disconnectWallet() {
        walletConnected = false;
        walletAddress = '';
        document.getElementById('wallet-address').classList.add('hidden');
        document.getElementById('connect-wallet-btn-header').classList.remove('hidden');
        closeWalletModal();
    }

    function copyContract() {
        navigator.clipboard.writeText(document.getElementById('contractAddress').value).then(() => {
            const copyBtn = document.getElementById('copyBtn');
            copyBtn.textContent = 'COPIED!';
            setTimeout(() => { copyBtn.textContent = 'COPY'; }, 2000);
        }).catch(err => console.error('Failed to copy text: ', err));
    }

    // --- Initialization on page load ---
    window.onload = () => {
        priceDisplay = document.getElementById('pumpdit-price');
        chartCtx = document.getElementById('priceChart').getContext('2d');
        walletModal = document.getElementById('walletModal');
        walletModalContent = document.getElementById('wallet-modal-content');
        orderModal = document.getElementById('orderModal');
        opsContainer = document.getElementById('ops-container');

        priceChart = new Chart(chartCtx, {
          type: 'line', data: { labels: Array(40).fill(''), datasets: [{ label: '$PUMPDIT', data: Array(40).fill(lockedPrice), borderColor: '#ff8717', backgroundColor: 'rgba(255,135,23,0.1)', tension: 0.4, borderWidth: 2, pointRadius: 0, }] },
          options: { scales: { y: { beginAtZero: false, ticks: { font: { size: 8, family: "'Press Start 2P', cursive" }, color: '#9ca3af' } }, x: { ticks: { display: false } } }, plugins: { legend: { display: false } } }
        });
        
        loadIcons();
        const hiddenElements = document.querySelectorAll('.section-hidden');
        hiddenElements.forEach((el) => observer.observe(el));
        
        for(let i = 0; i < 3; i++) { createRandomOp(); }
        setInterval(createRandomOp, 4000);

        document.getElementById('orderService').addEventListener('change', updateOrderTotal);
        document.getElementById('orderQty').addEventListener('input', updateOrderTotal);
        document.addEventListener('keydown', (e) => {
          if (e.key.toLowerCase() === 'j') {
            const egg = document.getElementById('easterEgg');
            egg.style.display = 'block';
            loadIcons();
            setTimeout(() => { egg.style.display = 'none' }, 3000);
          }
        });

        updateOrderTotal();
        setInterval(updateLivePrice, 1500);
    };
  </script>
</body>
</html> 
